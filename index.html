<!DOCTYPE html>
<html>
<meta name='viewport'
      content='width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1, user-scalable=no, target-densitydpi=device-dpi'>
<head>
    <title>index</title>
    <link rel="stylesheet" href="style.css">
</head>

<nav>
    <table>
        <tr>
            <td><a href="swipe_calibration.html#start">Swipe Calibration</a>
            <td><a href="swipe.html#start">Swipe</a>
            <td><a href="smooth_swipe.html">Smooth swipe</a>
    </table>
</nav>

<body onload="useCachedValues()">
<div id="start"></div>
<hr style="border-top: 10vh solid white;">
<form name="form" onsubmit="saveValues(); return false;">
    <div>
        Screen diagonal size in inch:
        <input type="number" step="0.01" name="diagonal_size_in">
    </div>
    <input type="checkbox" id="inverse_colors" name="inverse_colors">
    <label for="inverse_colors">Inverse colors</label>
    <input type="submit" value="Submit">

</form>
<table class="buttons">
    <tr>
        <td><a onclick="incrementValueOf(10)">Increment 10</a>
        <td><a onclick="incrementValueOf(1)">Increment 1</a>
        <td><a onclick="incrementValueOf(0.1)">Increment 0.1</a>
        <td><a onclick="incrementValueOf(0.01)">Increment 0.01</a>
</table>
<img>
</body>
<script>
    // Incerement buttons used to change screen diagonal size in inch
    function incrementValueOf(val) {
        current_size = parseFloat(document.forms["form"]["diagonal_size_in"].value) || 0;
        current_size += val;
        document.forms["form"]["diagonal_size_in"].value = current_size;
        saveValues();
    }

    // Save user inputs in cache memory
    function saveValues() {
        localStorage['diagonal_size_in'] = document.forms["form"]["diagonal_size_in"].value;
        localStorage['inverse_colors'] = document.getElementById("inverse_colors").checked;
    }

    // On page loading, set inputs if variables where found in cache memory
    function useCachedValues() {
        document.forms["form"]["diagonal_size_in"].value = localStorage['diagonal_size_in'] || 0;
        if (localStorage.getItem("inverse_colors") !== null && localStorage['inverse_colors'] == "true")
            document.getElementById("inverse_colors").checked = true;
    }
</script>
</html>